<div class="create-Dealer-container">
    <div class="header-DealerCustomer">
        <label>{{status}}</label>
        <mat-icon id="mat-icon" style="color: var(--v3);background-color: var(--v4);cursor: pointer;"
            (click)="closeDateSelector()">
            close
        </mat-icon>
    </div>
    <div class="container-fluid row" style="padding: 6%;">
        <div class="col-6">
            <!-- Dealer Name  -->
            <!-- <div class="dealer">
                <label>Login Name</label> <br>
                <input type="text" class="form-control" [(ngModel)]="userName" name="dealerName" required>
            </div> -->

            <!-- first Name -->
            <div class="dealer">
                <label>First Name</label> <br>
                <input type="text" class="form-control" [(ngModel)]="firstName" required>
            </div>

            <!-- Email -->
            <div class="dealer">
                <label>Email</label> <br>
                <input type="text" class="form-control" [(ngModel)]="email" required [readonly]="isEmailReadOnly">
            </div>

            <!-- Password -->
            @if (status == 'Create New User') {
            <div class="dealer">
                <label>Password</label> <br>
                <input type="password" class="form-control" [(ngModel)]="password" required
                    (input)="validatePassword()">
                @for (error of passwordErrors; track $index) {
                <div style="color: red;">{{ error }}</div>
                }
            </div>
            }
            <!-- Role -->
            <div style="display: flex;">
                <div style="width: 321px;
                margin-top: 7px;
                margin-left: 3px;">
                    <label>Role</label>
                    <mat-select
                        style="border: 1px solid black;background-color: rgb(255, 255, 255);border-radius: 5px;height: 30px;"
                        placeholder="{{ getSelectedItemsPlaceholder() }}" panelClass="custom-select-panel">
                        <mat-option  class="goto-check" style="background: var(--v3);"
                            (click)="$event.stopPropagation()">
                            <mat-checkbox color="primary" [checked]="allComplete" (click)="$event.stopPropagation()"
                                (change)="setAll($event.checked)"></mat-checkbox>
                            All</mat-option>
                        @for (item of toppingList; track $index) {
                        <mat-option style="color: black;"  class="goto-check"
                            style="background: var(--v3);"  (click)="$event.stopPropagation()">
                            <mat-checkbox color="primary" [(ngModel)]="item.checked" (click)="$event.stopPropagation()"
                                (ngModelChange)="updateAllComplete(item.name)"></mat-checkbox>
                            {{item.name}}</mat-option>
                        }
                    </mat-select>
                </div>
            </div>


        </div>

        <div class="col-6">

            <!-- Last Name -->
            <div class="dealer">
                <label>Last Name</label> <br>
                <input type="text" class="form-control" [(ngModel)]="lastName" required>
            </div>

            <!-- Contact Number -->
            <div class="dealer">
                <label>Phone Number</label> <br>
                <input type="number" class="form-control" [(ngModel)]="phone" required>
            </div>

            <!-- Confirm Password -->
            @if (status == 'Create New User') {
            <div class="dealer">
                <label>Confirm Password</label> <br>
                <input type="password" class="form-control" [(ngModel)]="confirmPassword" required
                    (input)="checkPasswordMismatch()">
                @if (passwordMismatch) {
                <div style="color: red;">Password Mismatch</div>
                }
            </div>
            }

        </div>
    </div>
    <div class="text-end" style="margin-right: 40px; margin-right: 75px;">
        <button class="btn btn-primary" type="submit" (click)="save()" [disabled]="!isValidForm()">
            {{ isEditMode ? 'Update' : 'Save' }}
        </button>
    </div>

</div>